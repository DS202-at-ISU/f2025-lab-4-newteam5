---
title: "progress-report-Vaishnavi_k.rmd"
Author: "Vaishnavi Devi Kondabathini"
output: html_document
date: "2025-11-19"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:


```{r}

# Load libraries
library(rvest)
library(readr)
library(dplyr)

# 1Ô∏è‚É£ Scrape the table from Baseball-Reference
url <- "https://www.baseball-reference.com/awards/hof_2025.shtml"
html <- read_html(url)
tables <- html_table(html)

# The data is usually the first table
data <- tables[[1]]

# 2Ô∏è‚É£ Set proper column names manually
# Extract the first row as a character vector for new names
new_names <- as.character(data[1, ])

# *** CRITICAL FIX: Make names unique *before* assigning ***
colnames(data) <- make.unique(new_names)

# Remove the first row (the old header row)
data <- data[-1, ]

# 3Ô∏è‚É£ Clean column names: trim spaces and replace spaces with _
# (You are now working with unique names like 'Batting Stats', 'Batting Stats.1', etc.)
colnames(data) <- trimws(colnames(data))
colnames(data) <- tolower(colnames(data))
# Replace non-alphanumeric chars (including spaces and the new '.' from make.unique) with an underscore
colnames(data) <- gsub("[^[:alnum:]]+", "_", colnames(data))


# 3b üî™ Remove unwanted rows (the repeating header rows)
# This filter step should now work because the column names are unique.
data_clean <- data %>%
  filter(rk != "Rk")

# 4Ô∏è‚É£ Convert numeric columns
# Note: Since make.unique() was used, the column names will now look slightly different.
# For example, 'WAR7' might be 'war7' and another column might be 'war7_1' if duplicated.
numeric_cols <- c("rk", "yob", "votes", "hofm", "hofs", "yrs", "war", "war7", "jaws") # Adjusted list

data_clean <- data_clean %>%
  mutate(across(all_of(numeric_cols), ~ parse_number(as.character(.))))

# 5Ô∏è‚É£ & 6Ô∏è‚É£ Save and Check the cleaned data
write_csv(data_clean, "HallOfFame_2025_Fixed.csv")
head(data_clean)
str(data_clean)

```


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
